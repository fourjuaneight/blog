{{ define "main" }}
  <h1 class="post-title md:text-6xl mr-auto text-4xl">{{ .Title }}</h1>
  <p>{{ .Content }}</p>
  {{ $cards := getJSON "https://cleverlaziness.xyz/api/mtg/" }}

  <section class="mb-4 w-full">
    <ul class="mtg-list gap-5 grid list-none mt-6 p-0 w-full">
      {{ range $i, $card := $cards }}
        {{ $imgSrc := print "mtg/" $card.id ".png" }}
        <li class="flex flex-col h-auto items-start justify-start m-0 p-0 relative">
          <button
            type="button"
            title="{{ $card.name }}"
            class="
              img-btn
              cursor-default
              duration-200
              ease-in-out
              focus-visible:border-1
              focus-visible:border-primary
              focus-visible:border-solid
              h-auto
              m-0
              p-0
              transition-colors
              w-auto
            "
            data-transparent="true"
          >
            {{/*  Prevents long local build times  */}}
            {{ if hugo.Environment | eq "production" }}
              {{ partial "remote-img.html" (dict "src" .image "alt" $card.name "pClasses" "mtg-img flex items-start justify-start mb-2 object-cover object-left-top" "iClasses" "w-auto" "hidden" true "size" "400") }}
            {{ end }}
          </button>
          <p class="leading-none mb-1 mt-0">{{ $card.name }}</p>
          <p class="leading-none mb-1 mt-0 text-meta">{{ $card.type }}</p>
          <p class="leading-none mb-1 mt-0 text-tertiary">{{ $card.set }} - {{ $card.collector_number }}</p>
        </li>
      {{ end }}
    </ul>
  </section>
  {{ if ne .Params.footer nil }}
    <section class="footer w-full">
      {{ partial "img.html" (dict "src" .Params.footer.img "alt" .Params.footer.alt "size" "1024") }}
    </section>
  {{ end }}
  {{ partial "party-mode.html" . }}
{{ end }}