{{ define "main" }}
  {{ $dTitle := cond (eq .Title "Tweets") "Tweet" "Title" }}
  {{ $dCreator := cond (eq .Title "Reddits") "Subreddit" "Creator" }}

  <section class="w-full">
    <h1 class="post-title md:text-6xl mr-auto text-4xl">{{ .Title }}</h1>
    <p>{{ .Content }}</p>
  </section>
  <section class="bk-table overflow-x-auto w-full">
    <div class="w-full">
      <ul
        class="
          bk-header
          border
          border-secondary
          border-solid
          grid
          grid-rows-1
          items-center
          justify-start
          list-none
          m-0
          p-0
          w-full
        "
      >
        <li
          class="
            bk-column-header
            border-secondary
            border-solid
            col-start-1
            font-semibold
            m-0
            p-2
            text-xl
            w-full
          "
        >
          {{ $dTitle }}
        </li>
        <li
          class="
            bk-column-header
            border-secondary
            border-solid
            col-start-2
            font-semibold
            m-0
            p-2
            text-xl
            w-full
          "
        >
          {{ $dCreator }}
        </li>
        <li
          class="
            bk-column-header
            border-none
            col-start-3
            font-semibold
            m-0
            p-2
            text-xl
            w-full
          "
        >
          Tags
        </li>
      </ul>
      <ul
        class="
          border
          border-secondary
          border-solid
          border-t-0
          flex
          flex-col
          items-start
          justify-start
          list-none
          m-0
          p-0
          w-full"
        data-category="{{ lower .Title }}"
      >
        {{ range $i, $data := .Site.Data.bookmarks }}
          {{ if eq $i $.Title }}
            {{ range $data }}
              <li
                class="
                  bk-cell
                  border-solid
                  border-tertiary-transparent
                  cursor-pointe
                  duration-150
                  ease-in-out
                  focus:border-secondary
                  grid
                  grid-rows-1
                  h-0
                  hover:border-secondary
                  m-0
                  overflow-hidden
                  p-0
                  transition-all
                  w-full
                "
                data-id="{{ .id }}"
                data-loaded="false"
              >
              </li>
            {{ end }}
          {{ end }}
        {{ end }}
      </ul>
    </div>
  </section>
  {{ if ne .Params.footer nil }}
    <section class="footer w-full">
      {{ partial "img.html" (dict "src" .Params.footer.img "alt" .Params.footer.alt) }}
    </section>
  {{ end }}
{{ end }}
{{ define "scripts" }}
  {{/*  Bookmarks Web Worker  */}}
  {{ $bookmarks := resources.Get "bookmarks.js" | minify | resources.Fingerprint "md5" }}
  {{ $bookmarksWW := resources.Get "bookmarks.ww.js" | minify }}
  <script
    defer
    src="{{ $bookmarks.Permalink }}"
    data-worker="{{ $bookmarksWW.Permalink }}"
  ></script>
{{ end }}